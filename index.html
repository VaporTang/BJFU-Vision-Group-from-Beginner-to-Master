<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>北林 RoboMaster 视觉组文档</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="从入门到精通">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">

    <style>
        /* 修复字体和一些基础样式 */
        body {
            font-family: "Microsoft YaHei", sans-serif;
        }

        /* 即使在深色背景下，大图背景也保持白色 (可选) */
        .medium-zoom-overlay {
            background: #fff;
        }
    </style>
</head>

<body>
    <div id="app">加载中...</div>

    <script>
        window.$docsify = {
            name: '北林视觉组教程',
            repo: '',
            homepage: '北京林业大学RoboMaster机甲大师视觉组从入门到精通.md',

            loadSidebar: false,
            subMaxLevel: 3,
            auto2top: true,

            // 【核心修改】这里不再使用 mediumZoom 配置对象
            // 而是通过 plugins 钩子手动控制，这样最稳定
            plugins: [
                function (hook) {
                    // doneEach 钩子：每次路由切换（页面加载）完成后触发
                    hook.doneEach(function () {
                        // 1. 找到内容区域的所有图片
                        // 2. 排除掉 emoji 表情图片（如果有的话）
                        // 3. 手动绑定 mediumZoom
                        if (typeof mediumZoom === 'function') {
                            mediumZoom('.markdown-section img:not(.emoji)', {
                                background: '#ffffff', // 放大后的背景色
                                margin: 24,            // 边距
                                scrollOffset: 0        // 滚动关闭阈值
                            });
                        }
                    });
                }
            ]
        }
    </script>

    <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>

</body>

</html>