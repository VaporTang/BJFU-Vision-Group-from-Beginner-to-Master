<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>北林 RoboMaster 视觉组文档</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="从入门到精通">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">

    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
        }

        /* overlay 居中并保持 fixed（overlay 本身不是图片） */
        .medium-zoom-overlay,
        .medium-zoom-overlay--open {
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            position: fixed !important;
            inset: 0 !important;
            z-index: 9999 !important;
            background: rgba(0, 0, 0, 0.6) !important;
        }

        /* 只在“放大打开”状态下才使图片居中（不要把基础类 .medium-zoom-image 包含进来） */
        .medium-zoom-image--open,
        .medium-zoom-image--opened {
            position: fixed !important;
            left: 50% !important;
            top: 50% !important;
            transform: translate(-50%, -50%) !important;
            max-width: 90vw !important;
            max-height: 90vh !important;
            z-index: 10000 !important;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6) !important;
        }
    </style>
</head>

<body>
    <div id="app">加载中...</div>

    <script>
        window.$docsify = {
            name: '北林视觉组教程',
            repo: '',
            homepage: '北京林业大学RoboMaster机甲大师视觉组从入门到精通.md',
            loadSidebar: false,
            subMaxLevel: 3,
            auto2top: true,
        }
    </script>

    <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>

    <script>
            (function () {
                var myZoomPlugin = function (hook, vm) {
                    hook.doneEach(function () {
                        if (!document.querySelector('main img')) return;

                        try {
                            if (window._docsify_mediumZoomInstance) {
                                window._docsify_mediumZoomInstance.detach();
                            }
                        } catch (e) { }

                        window._docsify_mediumZoomInstance = mediumZoom('main img, .content img', {
                            background: 'rgba(0,0,0,0.6)',
                            margin: 24,
                            scrollOffset: 40
                        });
                    });
                };

                window.$docsify.plugins = (window.$docsify.plugins || []);
                window.$docsify.plugins.unshift(myZoomPlugin);
            }());
    </script>

    <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/plugins/zoom-image.min.js"></script>

    <script>
        // 调试用（可移除）：列出页面中含 transform 的元素，帮助定位 ancestor transform 问题
        console.log('检查带 transform 的元素：',
            Array.from(document.querySelectorAll('*'))
                .filter(el => getComputedStyle(el).transform !== 'none')
                .slice(0, 20)
                .map(el => ({
                    tag: el.tagName,
                    id: el.id,
                    class: el.className,
                    transform: getComputedStyle(el).transform
                }))
        );
    </script>
</body>

</html>