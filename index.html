<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>北林 RoboMaster 视觉组文档</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="从入门到精通">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"/>
    <style>
        /* 修复 medium-zoom 放大后的 z-index 问题，防止被某些元素遮挡 */
        .medium-zoom-overlay, .medium-zoom-image--opened {
            z-index: 9999 !important;
        }
    </style>
</head>

<body>
    <div id="app">加载中...</div>

    <script>
        window.$docsify = {
            name: '北林视觉组教程',
            homepage: '北京林业大学RoboMaster机甲大师视觉组从入门到精通.md',
            loadSidebar: false,
            subMaxLevel: 3,
            auto2top: true,
            coverpage: false,
            
            // 配置 medium-zoom 插件
            mediumZoom: {
                selector: '.markdown-section img', // 明确指定选择器
                background: 'rgba(255, 255, 255, 0.95)'
            },

            // 定义一个自定义插件来修复 zoom 属性
            plugins: [
                function(hook) {
                    hook.doneEach(function() {
                        // 获取所有内容区的图片
                        var imgs = document.querySelectorAll('.markdown-section img');
                        imgs.forEach(function(img) {
                            // 检查是否有行内样式的 zoom
                            if (img.style.zoom) {
                                // 将 zoom 的值赋给 width
                                img.style.width = img.style.zoom;
                                // 移除非标准的 zoom 属性，避免干扰插件
                                img.style.zoom = ''; 
                            }
                        });
                        
                        // 强制刷新 medium-zoom，确保它识别到新的样式
                        if (window.MediumZoom) {
                            window.MediumZoom.detach();
                            window.MediumZoom.attach('.markdown-section img');
                        }
                    });
                }
            ]
        }
    </script>

    <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-plugin-medium-zoom/dist/plugin.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>

</body>
</html>