<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>北林 RoboMaster 视觉组文档</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="从入门到精通">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"/>
    
    <style>
        /* 修复 medium-zoom 遮罩层级，防止被导航栏遮挡 */
        .medium-zoom-overlay {
            z-index: 100 !important;
        }
        .medium-zoom-image--opened {
            z-index: 101 !important;
        }
        /* 针对移动端优化，防止过大的图片撑破布局 */
        .markdown-section img {
            max-width: 100%;
        }
    </style>
</head>

<body>
    <div id="app">加载中...</div>

    <script>
        window.$docsify = {
            name: '北林视觉组教程',
            homepage: '北京林业大学RoboMaster机甲大师视觉组从入门到精通.md',
            loadSidebar: false,
            subMaxLevel: 3,
            auto2top: true,
            coverpage: false,

            // medium-zoom 插件配置
            mediumZoom: {
                selector: '.markdown-section img',
                background: 'rgba(255, 255, 255, 0.95)',
                margin: 24,
                scrollOffset: 0
            },

            // 核心修复逻辑：在解析前替换 zoom 为 width
            plugins: [
                function(hook, vm) {
                    hook.beforeEach(function(html) {
                        // 正则表达式：查找所有 style="zoom:..." 并替换为 style="width:..."
                        // 这样浏览器和插件渲染时，看到的就是标准的 width 属性
                        return html.replace(/style="zoom:\s*([^;"]+)(;?)"/g, 'style="width: $1$2; max-width: 100%;"');
                    });
                }
            ]
        }
    </script>

    <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-plugin-medium-zoom/dist/plugin.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>

</body>
</html>